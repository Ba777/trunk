# Use container based environment, slightly faster than standard
sudo: false

# language: cpp
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - gcc-4.8
      - g++-4.8
      - wget
      # Package list from http://bazel.io/docs/install.html
      - oraclejdk8
      - pkg-config
      - zip
      - zlib1g-dev

install:
  - ./install-bazel.sh

script:
  # The kernel used by travis is too old to allow namespace creation
  # for normal account, so we disable it.
  - bazel build --spawn_strategy=standalone --genrule_strategy=standalone //examples/...:all
  - bazel test --spawn_strategy=standalone//examples/...:all

notifications:
  email: false
